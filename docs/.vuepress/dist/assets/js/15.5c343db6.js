(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{362:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));const l=[{label:"违规编码",prop:"violNo",fixed:!1,required:!0,sortable:!1},{label:"违规类型",prop:"type",fixed:!1,required:!0,sortable:!1,formatter:(e,t)=>{var i;return(null===(i=e.type)||void 0===i?void 0:i.name)||"--"}},{label:"违规来源",prop:"source",fixed:!1,required:!0,sortable:!1,map:{1:"人工巡检",2:"AI巡检"}},{label:"违规截图",prop:"imgUrl",fixed:!1,required:!0,sortable:!1,isUiImage:!0,width:"120",showOverflowTooltip:!1},{label:"违规说明",prop:"remarks",fixed:!1,required:!0,sortable:!1},{label:"发现时间",prop:"createTime",fixed:!1,required:!0,sortable:!1,dateFmt:"YYYY-MM-DD HH:mm:ss"},{label:"状态",prop:"state",fixed:!1,required:!0,sortable:!1,map:{1:"待处理",2:"申诉中",3:"承建商确认",4:"申诉通过",5:"撤销"}},{label:"所属项目",prop:"projectName",fixed:!1,required:!0,sortable:!1,fn:!0},{label:"项目PM",prop:"pmName",fixed:!1,required:!0,sortable:!1},{label:"申诉意见",prop:"appealComment",fixed:!1,required:!0,sortable:!1},{label:"申诉时间",prop:"appealTime",fixed:!1,required:!0,sortable:!1,dateFmt:"YYYY-MM-DD HH:mm:ss"},{label:"申诉附件",prop:"appealUrls",fixed:!1,required:!0,sortable:!1,dateFmt:"YYYY-MM-DD HH:mm:ss"},{label:"申诉不通过原因",prop:"appealNotPassComment",fixed:!1,required:!0,sortable:!1}]},363:function(e,t,i){"use strict";i(9);var l=i(15),a=i(2);const s=[0];t.a={data:()=>({model:{isReplaceRouter:!0},loading:!1,list:[],pager:{size:10,page:1,total:0},isFirst:!0,showFields:[],multipleSelection:[]}),async mounted(){var e;const t=this.$route.query;if(Object.keys(t).forEach(e=>{t[e]=Object(a.getOriValue)(t[e])}),null!==(e=this.model)&&void 0!==e&&e.size?this.pager.size=this.model.size:this.pager.size=+(t.size||10),this.pager.page=+(t.page||1),this.model&&!this.model.isGetUrlParams){const e=Object(l.omit)(t,["size","page"]);this.filters={...this.filters,...e};for(const e in this.filters)this.filters[e]&&"string"==typeof this.filters[e]&&this.filters[e].includes(",")&&(this.filters[e]=this.filters[e].split(","))}else{this.filters={...this.filters};for(const e in this.filters)this.filters[e]&&"string"==typeof this.filters[e]&&this.filters[e].includes(",")&&(this.filters[e]=this.filters[e].split(","))}"function"==typeof this.init&&await this.init(),await this.initShowFields(),"{}"!=JSON.stringify(this.model)&&(this.model&&this.model.isBreak||await this.getList())},methods:{searchReset(){this.filters={},this.getList()},async initShowFields(e=[]){let t=Object(l.cloneDeep)(this.allFields);t=t.map(e=>(this.formatterMap&&this.formatterMap[e.prop]&&(e.formatter=this.formatterMap[e.prop]),e));const i=[];e.length?(e.forEach(e=>{const l=t.find(t=>e===t.prop);l&&i.push(l)}),this.showFields=i):this.showFields=t},handleSelectionChange(e){this.multipleSelection=e},async handleSizeChange(e){this.pager.page=1,this.pager.size=e,this.getList(),this.initShowFields()},handleCurrentChange(e){this.pager.page=e,this.getList()},getSearchParams(e){const t={},i=Object(l.cloneDeep)(e);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)){let l=i[e];"string"==typeof l&&(l=l.replace(/(^\s*)|(\s*$)/g,"")),""!==l&&null!==l&&(Array.isArray(l)?l.length>0&&(t[e]=l.join(",")):t[e]=l)}return t},replaceRouter(e,t){this.$router.replace({path:this.$route.path,query:{...Object(l.omit)(e,["total"]),...t}})},async getFilters(){let e={};return e="function"==typeof this.hanldeFilters?await this.hanldeFilters():Object(l.cloneDeep)(this.filters),this.model&&void 0!==this.model.isClearEmpty&&!this.model.isClearEmpty?e:this.getSearchParams(e)},async getList(){try{const e=await this.getFilters(),t={...e,...this.pager};if(delete t.total,this.isFirst=!1,this.model&&void 0!==this.model.isReplaceRouter&&this.model.isReplaceRouter&&this.replaceRouter(this.pager,e),this.loading=!0,this.model&&this.model.beforeLoadFun)try{this.model.beforeLoadFun(t)}catch(e){console.log(e)}let i=null;if(this.model&&this.model.requestFun&&"function"==typeof this.model.requestFun?i=await this.model.requestFun(t):this.$message.error("缺少表单请求方法"),i&&s.includes(i.errorCode)&&(this.multipleSelection=[],this.model.isData?("function"==typeof this.formatListFn?this.list=this.formatListFn(i.data):this.list=i.data,this.pager.total=this.list.length):("function"==typeof this.formatListFn?this.list=this.formatListFn(i.data.list):this.list=i.data.list,this.pager.total=i.data.total),this.model.afterLoadFun))try{this.model.afterLoadFun()}catch(e){console.log(e)}}catch(e){console.log(e)}finally{this.loading=!1}},normalSearch:Object(l.debounce)((async function(){this.pager.page=1,this.getList()}),500,{leading:!1,trailing:!0})}}},364:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return a}));const l={form:{labelWidth:"80px",size:"small"},btns:{hide:!1,col:{push:1}},col:{xs:24,sm:12},fold:{enable:!0,defaultCollapsed:!0}},a=[{type:"input",label:"姓名",field:"name",props:{maxLength:4},rules:[]},{type:"input",label:"手机",field:"phone",props:{maxLength:11},rules:[]},{type:"select",label:"性别",field:"sex",options:[],init:!0,request:async()=>new Promise(e=>{setTimeout(()=>{e({data:[{label:"男",value:1},{label:"女",value:0}]})},1e3)})},{type:"date-picker",label:"生日",field:"birthday",props:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"}},{type:"radio-group",label:"状态",field:"status",options:[{label:"启用",value:1},{label:"禁用",value:0}]},{type:"cascader",label:"城市",field:"city",options:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"}]}],hide:e=>(0===e.status&&(e.city=[]),0===e.status)}]},372:function(e,t,i){},384:function(e,t,i){"use strict";i(372)},389:function(e,t,i){"use strict";i.r(t);var l=i(362),a=i(363),s=i(364),r={mixins:[a.a],data:()=>({allFields:l.a,searchFieldOptions:s.b,searchFieldColumns:s.a,filters:{status:0}}),watch:{},mounted(){},methods:{handleTapProp(){}}},o=(i(384),i(1)),n={components:{JinTableDemo:Object(o.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box"},[i("JinForm",{ref:"formRef",attrs:{"label-width":"80px",inline:!1,size:"normal",options:e.searchFieldOptions,columns:e.searchFieldColumns},on:{reset:e.searchReset,search:e.getList},model:{value:e.filters,callback:function(t){e.filters=t},expression:"filters"}}),e._v(" "),i("JinTable",{attrs:{list:e.list,loading:e.loading,pager:e.pager,"show-fields":e.showFields,"show-selection":!0},on:{handleCurrentChange:e.handleCurrentChange,handleSelectionChange:e.handleSelectionChange,handleSizeChange:e.handleSizeChange,tapProp:e.handleTapProp}})],1)}),[],!1,null,"9506bce2",null).exports}},h=Object(o.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("JinTableDemo")],1)}),[],!1,null,"753dc6de",null);t.default=h.exports}}]);